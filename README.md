Вариант №24
Задание №1
Разработать эмулятор для языка оболочки ОС. Необходимо сделать работу
эмулятора как можно более похожей на сеанс shell в UNIX-подобной ОС.
Эмулятор должен запускаться из реальной командной строки, а файл с
виртуальной файловой системой не нужно распаковывать у пользователя.
Эмулятор принимает образ виртуальной файловой системы в виде файла формата
zip. Эмулятор должен работать в режиме GUI.
Конфигурационный файл имеет формат ini и содержит:
• Имя компьютера для показа в приглашении к вводу.
• Путь к архиву виртуальной файловой системы.
• Путь к лог-файлу.
Лог-файл имеет формат xml и содержит все действия во время последнего
сеанса работы с эмулятором. Для каждого действия указаны дата и время.
Необходимо поддержать в эмуляторе команды ls, cd и exit, а также
следующие команды:
1. chown.
2. cat.
3. date.
Все функции эмулятора должны быть покрыты тестами, а для каждой из
поддерживаемых команд необходимо написать 3 теста.
===================================================
Описание функций
1. read_config(config_path)
Назначение: Читает конфигурационный файл для извлечения имени хоста, пути к виртуальной файловой системе и пути к журналу.
Параметры:  config_path (str): Путь к конфигурационному файлу (например, config.ini).
Возвращает: Кортеж, содержащий имя хоста, путь к VFS и путь к журналу.

2. log_action(log_path, action)
Назначение: Логирует действие в XML-файл.
Параметры:  log_path (str): Путь к XML-файлу журнала.
action (str): Описание действия, которое нужно залогировать.
Возвращает: None.

3. VirtualFileSystem
Класс для работы с виртуальной файловой системой.
Методы:
__init__(self, zip_path):
Назначение: Инициализирует VFS, извлекая содержимое ZIP-файла.
Параметры:  zip_path (str): Путь к ZIP-файлу.

extract_zip(self, zip_path):
Назначение: Извлекает файлы из ZIP-архива в корневую директорию VFS.
Параметры:
zip_path (str): Путь к ZIP-файлу.
Возвращает: None.

list_directory(self):
Назначение: Возвращает список содержимого текущей директории с информацией о типе (файл или директория), размере и времени последнего изменения.
Возвращает: Строку с перечислением элементов директории.
change_directory(self, path):

Назначение: Меняет текущую директорию.
Параметры:path (str): Новый путь к директории.
Возвращает: None.

get_relative_path(self):
Назначение: Возвращает относительный путь к текущей директории.
Возвращает: Строку с относительным путем.

read_file(self, file_name):
Назначение: Читает содержимое файла.
Параметры:  file_name (str): Имя файла для чтения.
Возвращает: Содержимое файла или сообщение об ошибке, если файл не найден.

4. Основные команды

ls(vfs):
Назначение: Возвращает список файлов и директорий в текущей директории.
Параметры:  vfs (VirtualFileSystem): Объект виртуальной файловой системы.
Возвращает: Строку с содержимым директории.

cd(vfs, path):
Назначение: Изменяет текущую директорию.
Параметры:  vfs (VirtualFileSystem): Объект виртуальной файловой системы.
            path (str): Путь к новой директории.
Возвращает: Сообщение об успешном изменении директории или ошибку.

cat(vfs, file_name):
Назначение: Читает содержимое файла.
Параметры:  vfs (VirtualFileSystem): Объект виртуальной файловой системы.
            file_name (str): Имя файла для чтения.
Возвращает: Содержимое файла или сообщение об ошибке, если файл не найден.

date():
Назначение: Возвращает текущую дату и время.
Возвращает: Строку с текущими датой и временем.

chown(vfs, file_name, new_owner):
Назначение: Изменяет владельца файла (только имитация, реальная реализация не выполнена).
Параметры:  vfs (VirtualFileSystem): Объект виртуальной файловой системы.
            file_name (str): Имя файла.
            new_owner (str): Новый владелец.
Возвращает: Сообщение об успешном изменении владельца или ошибку.

5. run_shell(hostname, vfs_path, log_path)
Назначение: Запускает основной цикл работы эмулятора оболочки с GUI на tkinter.
Параметры:  hostname (str): Имя хоста.
            vfs_path (str): Путь к виртуальной файловой системе.
            log_path (str): Путь к журналу.
Возвращает: None
===================================================
НАСТРОЙКИ
config.ini
Файл конфигурации должен содержать следующие параметры в секции [DEFAULT]:
[DEFAULT]
    hostname = MyVirtualMachine
    vfs_path = путь_к_zip_файлу
    log_path = путь_к_xml_журналу
hostname: Имя вашего хоста (например, MyVirtualMachine).
vfs_path: Путь к ZIP-файлу, содержащему вашу виртуальную файловую систему.
log_path: Путь к XML-файлу для записи журнала действий.
===================================================
КОМАНДЫ ДЛЯ СБОРКИ ПРОЕКТА
Скрипт использует стандартные библиотеки, поэтому дополнительных зависимостей не требуется.
ZIP-файл, содержащий нужные файлы и директории для виртуальной файловой системы.
Файл config.ini с необходимыми параметрами.
===================================================
ПРИМЕРЫ
![image](https://github.com/user-attachments/assets/110e0053-04b5-49de-83db-0d68c58632f2)
===================================================
РЕЗУЛЬТАТЫ ПРОГОНА ТЕСТОВ
C:\Users\Andre\PycharmProjects\dz_config_Podshivalov_A_M\.venv\bin\python.exe "C:/Program Files/JetBrains/PyCharm Community Edition 2023.3/plugins/python-ce/helpers/pycharm/_jb_unittest_runner.py" --path C:\Users\Andre\PycharmProjects\dz_config_Podshivalov_A_M\TestVirtualFileSystem.py 
Testing started at 21:36 ...
Launching unittests with arguments python -m unittest C:\Users\Andre\PycharmProjects\dz_config_Podshivalov_A_M\TestVirtualFileSystem.py in C:\Users\Andre\PycharmProjects\dz_config_Podshivalov_A_M

Ran 10 tests in 0.095s
OK
Process finished with exit code 0
![image](https://github.com/user-attachments/assets/61f04c77-e20f-422b-a810-d5668ea975c7)

